{% load static %}
<!DOCTYPE html>
	<html>
    <head>
        
	
        <title> {%block title%} Welcome  {% endblock %} </title>
		     <link rel="manifest" href="{% static "js/manifest.json"%}"> 
                <link  type="text/css" href="{% static "css/homecustom.css"%}" rel="stylesheet" media="screen,projection">
	  <link  type="text/css" href="{% static "css/materialize.min.css"%}" rel="stylesheet"  media="screen,projection">
        <link  href="{% static "css/home.css"%}" type="text/css"  rel="stylesheet">
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
 
            
    </head>
 
    <body onload="initialize()">
        <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.5";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
	<div id="overlay">
	</div>
       
        <div class="fixed-action-btn" style="bottom: 45px; right: 24px;z-index:20;">
    <a class="btn-floating btn-large " style="background:#FF9800;">
      <i class="large material-icons">mode_edit</i>
    </a>
    <ul>
      <li><span style="position: fixed;bottom: 233px;right: 80px;" class="web">Message</span><a class="btn-floating yellow darken-1" href="/messages/write"><i class="material-icons">email</i></a></li>
      <li><span style="position: fixed;bottom: 183px;right: 80px;"class="web">Add Recipe</span><a class="btn-floating green" ><i id="addb" class="material-icons">photo</i></a></li>
        <li><span style="position: fixed;bottom: 133px;right: 80px;" class="web">Add Photo</span><a class="btn-floating blue"><i id="add" class="material-icons">add_a_photo</i></a></li>
    </ul>
  </div>     
    <div class="container"> 
       
      
        
<div class="row">
    <div class="col m6 " id="frameb">
 <a class="addone right"><i class="material-icons">close</i></a>
<form action="/addrecipe/" method="post" enctype="multipart/form-data" role="form">{% csrf_token %}
<div class="row">
<div  class="input-field file-field col s12 ">
    <div class="btn">
<span>
imagefile</span> 
<input type="file" id="id_photo" name="photo" class="validate">
    </div>
    <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
      </div>
</div>
<img id="blah2" src="{% static "media/images/salad.jpg"%}" alt="your image" class=" mobile" />
</div> 
    
<div class="row">
<div class="input-field  col s6 ">
    <textarea  id="id_title" maxlength="100" length="100" name="title" class="materialize-textarea validate"></textarea>
<label for="id_title">Title:</label>     

    </div>
  
<div class="input-field  col s6 ">
<label for="id_ingredients">Ingredients:</label> 
    <textarea  id="id_ingredients" maxlength="1000" length="1000" name="ingredients"  class="materialize-textarea validate"></textarea>
</div>    
</div>    

   
<div class="row">
<div class="input-field  col s12">
<label for="id_method">Method:</label> 
    <textarea  id="id_method" maxlength="2000" length="2000" name="method"  class="materialize-textarea validate"></textarea>
</div>
</div>    
<div class="row">
<div class="input-field  col s6">
<label for="id_prep_time">Preparation Time:</label> 
<input type="text" class="validate" name="prep_time" id="id_prep_time" >
</div>
<div class="input-field  col s6">
<label for="id_cook_time">Cooking Time:</label> 
<input type="text" class="validate" name="cook_time" id="id_cook_time" >
</div>
</div> 
<div class="row">
<div class="input-field col s12">

<select id="id_cuisine" name="cuisine">
 <option value="" disabled selected>Choose cuisine</option>    
<option value="African">African</option>
<option value="American">American</option>
<option value="Argentinian">Argentinian</option>
<option value="Brazilian">Brazilian</option>
<option value="Cajun">Cajun</option>
<option value="Caribbean">Caribbean</option>
<option value="Chinese">Chinese</option>
<option value="Cuban">Cuban</option>
<option value="EastIndian">EastIndian</option>
<option value="Egyptian">Egyptian</option>
<option value="Ethopian">Ethopian</option>
<option value="French">French</option>
<option value="Filipino">Filipino</option>
<option value="German">German</option>
<option value="Greek">Greek</option>
<option value="Hawaiian">Hawaiian</option>
<option value="Indonesian">Indonesian</option>
<option value="Italian">Italian</option>
<option value="Iranian">Iranian</option>
<option value="Irish">Irish</option>
<option value="Japanese">Japanese</option>
<option value="Korean">Korean</option>
<option value="Lebanese">Lebanese</option>
<option value="Mediterranean">Mediterranean</option>
<option value="Mexican">Mexican</option>
<option value="Mongolian">Mongolian</option>
<option value="Mughlai">Mughlai</option>
<option value="NorthIndian">NorthIndian</option>
<option value="Polish">Polish</option>
<option value="Portuguese">Portuguese</option>
<option value="Scottish">Scottish</option>
<option value="SeaFood">SeaFood</option>
<option value="Spanish">Spanish</option>
<option value="SouthIndian">SouthIndian</option>
<option value="Swedish">Swedish</option>
<option value="Thai">Thai</option>
<option value="Turkish">Turkish</option>
<option value="Vietnamese">Vietnamese</option>
<option value="WestIndian">WestIndian</option>    
</select>
    <label for="id_cuisine"></label> 
  
    </div>
</div>        
<div class="row">
<div class="input-field col s12">    
 <button type="submit" value="addrecipe" name="addrecipe"  class="btn waves-effect waves-light">Submit <i class="material-icons right">send</i></button>    
</div>
</div>
</form>
</div>            
</div>                
        
            
<div class="row" >
       <div class="col m4 s12 offset-m2 " id="frame">
           <a class="addone right"><i class="material-icons">close</i></a>
<form class="photoform" action="/addphoto/" method="post" enctype="multipart/form-data" role="form" >{% csrf_token %}
<div class="row">
<div  class="input-field file-field col s12 ">
    <div class="btn">
<span>
imagefile</span> 
<input type="file" id="id_image" name="image" class="validate">
    </div>
    <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
     
      </div>
</div>
             <img id="blah" src="{% static "media/images/salad.jpg"%}" alt="your image" class=" mobile" />

</div>
<div class="row">
<div class="input-field  col s12 ">
<textarea  id="id_description" length="120" name="description"  class="materialize-textarea validate" maxlength="120">
</textarea>
<label for="id_description">Description:</label>     

    </div>
   
</div>
<div class="row">
<div class="input-field col s12">

<select id="id_cuisine" name="cuisine">
 <option value="" disabled selected>Choose cuisine</option>    
<option value="African">African</option>
<option value="American">American</option>
<option value="Argentinian">Argentinian</option>
<option value="Brazilian">Brazilian</option>
<option value="Cajun">Cajun</option>
<option value="Caribbean">Caribbean</option>
<option value="Chinese">Chinese</option>
<option value="Cuban">Cuban</option>
<option value="EastIndian">EastIndian</option>
<option value="Egyptian">Egyptian</option>
<option value="Ethopian">Ethopian</option>
<option value="French">French</option>
<option value="Filipino">Filipino</option>
<option value="German">German</option>
<option value="Greek">Greek</option>
<option value="Hawaiian">Hawaiian</option>
<option value="Indonesian">Indonesian</option>
<option value="Italian">Italian</option>
<option value="Iranian">Iranian</option>
<option value="Irish">Irish</option>
<option value="Japanese">Japanese</option>
<option value="Korean">Korean</option>
<option value="Lebanese">Lebanese</option>
<option value="Mediterranean">Mediterranean</option>
<option value="Mexican">Mexican</option>
<option value="Mongolian">Mongolian</option>
<option value="Mughlai">Mughlai</option>
<option value="NorthIndian">NorthIndian</option>
<option value="Polish">Polish</option>
<option value="Portuguese">Portuguese</option>
<option value="Scottish">Scottish</option>
<option value="SeaFood">SeaFood</option>
<option value="Spanish">Spanish</option>
<option value="SouthIndian">SouthIndian</option>
<option value="Swedish">Swedish</option>
<option value="Thai">Thai</option>
<option value="Turkish">Turkish</option>
<option value="Vietnamese">Vietnamese</option>
<option value="WestIndian">WestIndian</option>    
</select>
    <label for="id_cuisine">Cuisine:</label> 
  
    </div>
</div>    
<div class="row">
<div class="input-field col s12">
<input type="text" name="place" id="id_place" onFocus="geolocate()" placeholder="" class="validate"/>
<label for="id_place">Place:</label> 

    </div>
</div>
    <div class="row">
<div class="input-field col s12">
    <input checked="checked" id="id_public" name="public" type="checkbox" class="validate">
         <label for="id_public">Public:</label>
        </div>
    </div>
<div class="row">
<div class="input-field col s12">
    <button type="submit" value="addphoto" name="addphoto"  class="btn waves-effect waves-light addone">Submit <i class="material-icons right">send</i></button>
</div>
</div>
</form>

        </div></div>
        </div>
        
        <form  action="/reportrecipe/" method="post" class="framed">
                <input type="hidden" name="recipe_id" value="">
           {% csrf_token %}
<div class="row">
<div class="input-field col s12">

<select id="id_reason-{{item.id}}" name="reason">
 <option value="" disabled selected>Choose reason</option>    
<option value="This recipe is a spam or a scam">This recipe is spam or a scam</option>
<option value="This recipe puts people at risk">This recipe puts people at risk</option>
<option value="This recipe shouldn't be on foodchaps">This recipe shouldn't be on foodchaps</option>
    <label for="id_reason-{{item.id}}"></label>
    </select>
 
    </div>
</div>  
         <!--<input type="submit" value="Submit" /> -->
            <div class="row">
<div class="input-field col s12">
    <button type="submit" value="submit" class="btn waves-effect waves-light addone">Submit <i class="material-icons right">send</i></button>
</div>
</div>
          
          </form>          
          
        
           
          <form action="/reportphoto/" method="post" class="framec">
                 <input type="hidden" name="photo_id" value="">
              {% csrf_token %}
              <div class="row">
<div class="input-field col s12">
  <select id="id_reason" name="reason">
 <option value="" disabled selected>Choose reason</option>    
<option value="This photo is a spam or a scam">This photo is spam or a scam</option>
<option value="This photo puts people at risk">This photo puts people at risk</option>
<option value="This photo shouldn't be on foodchaps">This photo shouldn't be on foodchaps</option>
    <label for="id_reason"></label>
    </select>
                  </div>
              </div>
<!--    <input type="submit" value="Submit" />-->
                 <div class="row">
<div class="input-field col s12">
    <button type="submit" value="submit" class="btn waves-effect waves-light addone">Submit <i class="material-icons right">send</i></button>
</div>
</div>
</form>
        
      
	<!-- Navigation -->
    
        <div class="navbar-fixed">
    <nav role="navigation">
        
      
        
        <div class="nav-wrapper" style="background:#009677;">
             <a href="#" id="logo-container" class="brand-logo"style="left:33%;"><img class="moblogo" src="{% static "media/images/logo5.png"%}" class="responsive-img"/></a>
            <button class="btn-flat waves-effect right waves-light" style="height:60px;"> <a class="logout" href="/logout/" ><i class="material-icons">exit_to_app</i>logout</a></button>
         
                <ul id="slide-out" class="side-nav">
                        {%  if user.profile_pic  %}
                     <img src="{{user.profile_pic.url}}" class="responsive-img circle"style="height: 135px;width: 135px;margin-left:29px;"/>
                    {% else %}
                    <img class="activator responsive-img circle" src="{% static "media/images//avatar3.png"%}" style="height:200px;width:300px;">

                    {% endif %}

	<h5 style="color:#565656;" class="center">	hey  {{user}} !</h5>
	     <div class="nav-wrapper mobilesearch" style="background: #009677;height:64px;">
               <form action="/tagsearch/" method="GET" role="form">
	 <div class="ui-widget input-field">
         	<input id="autoComplete" placeholder="search" type="search" name="q" required ><!--type="search" name="q" -->

             <label for="autoComplete"><i class="material-icons">search</i></label>     
    <i class="material-icons">close</i>     
	<!--<button type="submit" class="btn">
	<i class="fa fa-search"></i>
	</button>-->
	</div>
                    </form>
                </div>
	
	<!--<input type ="text" id = "autoComplete">-->
                  
                    <li>
                        <a href="/profile">Profile<i class="material-icons right">face</i></a>
                    </li>
                    <li>
                        <a href="/userphoto">Photobucket<i class="material-icons right">folder_special</i></a>
                    </li>
                    <li>
                        <a href="/home">Photopond <i class="material-icons right">home</i></a>
                    </li>
                     <li>
                        <a href="/pinned">Pinlist<i class="material-icons right">collections_bookmark</i></a>
                    </li>
         <li>
                        <a href="/messages">Inbox  <i class="material-icons right">move_to_inbox</i></a>
                    </li>
                     <li>
                        <a href="/messages">Connection  <i class="material-icons right"></i></a>
                    </li>
            <!-- /.navbar-collapse -->
		
                </ul>
           
            <div class="container" style="margin:0;">
                 <div class="row">
                     <div class="col l1">
         <a href="#" data-activates="slide-out" class="button-collapse show-on-large"><i class="mdi-navigation-menu"></i></a>
           
                     </div>
                     
                     
    <div class="nav-wrapper websearch navcustom">
               <form action="/tagsearch/" method="GET" role="form">
	 <div class="ui-widget input-field">
         	<input id="autoComplete" placeholder="search" type="search" name="q" required ><!--type="search" name="q" -->

             <label for="autoComplete"><i class="material-icons">search</i></label>     
    <i class="material-icons searchclose">close</i>     
	<!--<button type="submit" class="btn">
	<i class="fa fa-search"></i>
	</button>-->
	</div>
                    </form>
                </div>
                     </div>
                        

            </div> 
    
       
        
            
            </div>
         
        
			</nav>
        </div>
        
   
   
        
       <div class="container">
           
           <div class="row">
		<div class="col l11 col s12"><!--col l11 offset-l2 col s12-->
            
             <div class="preloader-wrapper big active " style="position: absolute;
    left: 50%;
    top: 300px;">
      <div class="spinner-layer spinner-blue">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>

      <div class="spinner-layer spinner-red">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>

      <div class="spinner-layer spinner-yellow">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>

      <div class="spinner-layer spinner-green">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>
       <!-- <a class="walkthroughbutton" data-origin="http://next.walkhub.net/" data-position="bottom-right" data-search="" href="http://next.walkhub.net/"></a>
<a class="walkthroughbutton" data-origin="http://next.walkhub.net/" data-position="bottom-right" href="http://next.walkhub.net/"></a>
        -->
          
            <section id="pinBoot">
       
  {% include "content.html" %}
            </section><!--section-->
</div><!--main div containing objects -->
        </div><!-- row -->
</div><!-- main container -->
    <script  src="{% static "js/jquery-2.1.3.js"%}" type="text/javascript"></script>
        <script>$(document).ready(function() {
  $('#pinBoot').addClass('hide');
  $('footer').addClass('hide');
    
    setTimeout(function(){
       
        $('.preloader-wrapper').addClass('hide');
         $('#pinBoot').removeClass('hide');
        $('footer').removeClass('hide');


    }, 2000);
 
});</script>
        
        <script>
            var user="{{user}}";
var userid="{{user.id}}"; 
        $(function(){
            $(".commentreveal").click(function(){
                var ID=parseInt(this.id.split("-")[2]);
                $(".revealdata-" + ID).addClass("hide");                            
            })
             $(".commentrecreveal").click(function(){
                var ID=parseInt(this.id.split("-")[2]);
                $(".revealrecdata-" + ID).addClass("hide");                    
            })            
            $(".correct").click(function(){
                 $(".card-reveal").removeClass("hide");
            })
            $('.searchclose').click(function(){
 $("#autoComplete").val("");
            })
        })
        </script>
        <script  src="{% static "js/vote.js"%}" type="text/javascript"></script>
        <script  src="{% static "js/comment.js"%}" type="text/javascript"></script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script  src="{% static "js/materialize.min.js"%}" type="text/javascript"></script>
    

        {% if home %}
          <script>
              $.ajaxPrefilter(function( options, originalOptions, jqXHR ) {
    options.async = true;
});
        $(function(){
var j=2;

$(window).scroll( function(){
if($(window).scrollTop() + $(window).height() == $(document).height()) {
    var story=$("article").last().attr('id').split('-')[1];
    var storytype=$("article").last().attr('id').split('-')[0];
$.ajax({
type:'GET',
url:'/feed',
data:{"feedobj":story,"storytype":storytype},    
success: function(data){
    
console.log("done");
console.log(data.toString());  
$('#pinBoot').append(data);
  $(".commentreveal").click(function(){
                var ID=parseInt(this.id.split("-")[2]);
                $(".revealdata-" + ID).addClass("hide");              
            })
    $(".commentrecreveal").click(function(){
                var ID=parseInt(this.id.split("-")[2]);
                $(".revealrecdata-" + ID).addClass("hide");                    
            })           
            $(".correct").click(function(){
                 $(".card-reveal").removeClass("hide");
            })
            
    $('select').material_select();
 
            
},
error: function(){

console.log("nai hora");
    
}

});
}
});

});
        </script>
        {% endif %}

        
         <script>
        $(document).ready(function(){
function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie != '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) == (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
var csrftoken = getCookie('csrftoken');

function deleterecipe(recipeID){
$.ajax({
	type:"POST",
	url:"/deleterecipe/",
	data:{"recipe":recipeID},
	success: function(){
	$("#recipe-delete-" + recipeID).hide();
	$("#recipe-" + recipeID).hide();
	},
	headers:{
	'X-CSRFToken' :csrftoken
	}
});
return false;

}
$(document).on('click',".deleterecipe",function(){

var recipeID=parseInt(this.id.split("-")[2]);
console.log(recipeID);

return deleterecipe(recipeID);

})


function pinrecipe(recipeID){
$.ajax({
	type:"POST",
	url:"/pin_recipe/",
	data:{"recipe":recipeID},
	success: function(result){
	$("#recipe-pin-" + recipeID).hide();
        $("#pinrecipe-span-" + recipeID).hide();
        $("#likerecipe-span-" + recipeID).after("  <div style='color:white!important;position:relative;top:-30px;z-index:9;height:0!important;left:7%; font-weight:500;'> <span></span></div>" );
         $("#likerecipe-span-" + recipeID + "+" + "div").attr('id',"pinrecipe-span-"+recipeID);
        $("#pinrecipe-span-" + recipeID + ">" + "span").attr('id', "pinspan" + recipeID);
        $("#pinspan" + recipeID).text(result+" "+"pools");	
    },
	headers:{
	'X-CSRFToken' :csrftoken
	}
});
return false;
}
$(document).on('click',"button.pinrecipe",function(){
var recipeID=parseInt(this.id.split("-")[2]);
console.log(recipeID);
return pinrecipe(recipeID);
})


$(document).on('click',"a.reportrecipe",function(){
var recipeID=parseInt(this.id.split("-")[2]);
console.log(recipeID);
$(".framed input:first-child").val(""+recipeID);
})

$(document).on('click',"a.reportphoto",function(){
var photoID=parseInt(this.id.split("-")[2]);
console.log(photoID);
$(".framec input:first-child").val(""+photoID);
})


function recipevote(recipeID){
$.ajax({
	type:"POST",
	url:"/voterecipe/",
	data:{"recipe":recipeID},
	success: function(result){
	$("#recipe-vote-" + recipeID).hide();
        $("#likerecipe-span-" + recipeID).hide();
        $("#pinrecipe-span-" + recipeID).after('<div style="color:white!important;position:relative;top:-30px;z-index:9;height:0!important;left:76%;font-weight:500;"><span></span></div>');
        $("#pinrecipe-span-" + recipeID + "+" + "div").attr('id', "likerecipe-span-" + recipeID);
        $("#likerecipe-span-" + recipeID + ">" + "span").attr('id', "likespan" + recipeID);
        $("#likespan" + recipeID).text(result + " " + "likes");
        
    },
	headers:{
	'X-CSRFToken' :csrftoken
	}
});
return false;

}
$(document).on('click',"button.voterecipe",function(){

var recipeID=parseInt(this.id.split("-")[2]);
console.log(recipeID);

return recipevote(recipeID);

})
var user="{{user}}";
var userid="{{user.id}}";  
function commentrecipe(recipeID,text){
$.ajax({
	type:"POST",
	url:"/addcommentrecipe/",
	data:{"recipe":recipeID,"text":text},
	success: function(){
        console.log("hogya");        
    $("#commentrecipe-ul-"+recipeID).append('<li class="child"><a href="users/'+ userid + '">' + user + '</a>:</li>');
   $("#commentrecipe-ul-"+recipeID + " " + "li").last().append(text);
             
        
       
	},
	headers:{
	'X-CSRFToken' :csrftoken
	}
});
return false;

}
$(document).on('click',"a.addcommentrecipe",function(){
var recipeID=parseInt(this.id.split("-")[2]);
console.log(recipeID);
photomy=recipeID+"";
    var text=$("#"+photomy).val();
    console.log(text);
return commentrecipe(recipeID,text);

})

});
</script>
        
        
        
        
		   
<script>
$(function(){
    
$("#add").click(function(){

$("#overlay").fadeIn();
$("#frame").fadeIn();
});

$(".addone").click(function(){
$("#frame").fadeOut();
$("#overlay").fadeOut();
});
$("#overlay").click(function(){
$(this).fadeOut();
$("#frame").fadeOut();
});
    
    $("#addb").click(function(){

$("#overlay").fadeIn();
$("#frameb").fadeIn();
});

$(".addone").click(function(){
$("#frameb").fadeOut();
$("#overlay").fadeOut();
});
$("#overlay").click(function(){
$(this).fadeOut();
$("#frameb").fadeOut();
$(".framed").fadeOut();   
$(".framec").fadeOut();       
});
$(document).on('click',"a.reportrecipe",function(){

$("#overlay").fadeIn();
$(".framed").fadeIn();
});
    $(document).on('click',"a.reportphoto",function(){

$("#overlay").fadeIn();
$(".framec").fadeIn();
});
  

    
});

</script><script>
        $(function(){
            
            $('.child').hide();
    $('.parent').click(function() {
        
        $(this).find('li').slideToggle();
    });
            
       
            
        })
        
        $(document).ready(function() {
    // Optimalisation: Store the references outside the event handler:
    var $window = $(window);
    var $pane = $('#pane1');

    function checkWidth() {
        var windowsize = $window.width();
        if (windowsize < 993) {
            //if the window is greater than 440px wide then turn on jScrollPane..
           $(".fixed-action-btn").addClass("click-to-toggle");
        }
        else{
              $(".fixed-action-btn").removeClass("click-to-toggle");
        }
    }
    // Execute on load
    checkWidth();
    // Bind event listener
    $(window).resize(checkWidth);
});
        </script>
  
<script>$(document).ready(function() {
$('#pinBoot').pinterest_grid({
no_columns: 3,
padding_x: 10,
padding_y: 10,
margin_bottom: 50,        
single_column_breakpoint: 993
});
});

    
    
/*
Ref:
Thanks to:
http://www.jqueryscript.net/layout/Simple-jQuery-Plugin-To-Create-Pinterest-Style-Grid-Layout-Pinterest-Grid.html
*/


/*
    Pinterest Grid Plugin
    Copyright 2014 Mediademons
    @author smm 16/04/2014

    usage:

     $(document).ready(function() {

        $('#blog-landing').pinterest_grid({
            no_columns: 4
        });

    });


*/
;(function ($, window, document, undefined) {
    var pluginName = 'pinterest_grid',
        defaults = {
            padding_x: 10,
            padding_y: 10,
            no_columns: 3,
            margin_bottom: 50,
            single_column_breakpoint: 993
        },
        columns,
        $article,
        article_width;

    function Plugin(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options) ;
        this._defaults = defaults;
        this._name = pluginName;
        this.init();
    }

    Plugin.prototype.init = function () {
        var self = this,
            resize_finish;

        $(window).resize(function() {
            clearTimeout(resize_finish);
            resize_finish = setTimeout( function () {
                self.make_layout_change(self);
            }, 11);
        });

        self.make_layout_change(self);

        setTimeout(function() {
            $(window).resize();
        }, 500);
    };

    Plugin.prototype.calculate = function (single_column_mode) {
        var self = this,
            tallest = 0,
            row = 0,
            $container = $(this.element),
            container_width = $container.width();
            $article = $(this.element).children();

        if(single_column_mode === true) {
            article_width = $container.width() - self.options.padding_x;
        } else {
            article_width = ($container.width() - self.options.padding_x * self.options.no_columns) / self.options.no_columns + 30;
        }

        $article.each(function() {
            $(this).css('width', article_width);
        });

        columns = self.options.no_columns;

        $article.each(function(index) {
            var current_column,
                left_out = 0,
               top=0,
                $this = $(this),
                prevAll = $this.prevAll(),
                tallest = 0;

            if(single_column_mode === false) {
                current_column = (index % columns);
            } else {
                current_column = 0;
            }

            for(var t = 0; t < columns; t++) {
                $this.removeClass('c'+t);
            }

            if(index % columns === 0) {
                row++;
            }

            $this.addClass('c' + current_column);
            $this.addClass('r' + row);

            prevAll.each(function(index) {
                if($(this).hasClass('c' + current_column)) {
                    top += $(this).outerHeight() + self.options.padding_y;
                }
            });

            if(single_column_mode === true) {
                left_out = 0;
            } else {
                left_out = (index % columns) * (article_width + self.options.padding_x);
            }

            $this.css({
                'left': left_out,
                'top' : top
            });
        });

        this.tallest($container);
        $(window).resize();
    };

    Plugin.prototype.tallest = function (_container) {
        var column_heights = [],
            largest = 0;

        for(var z = 0; z < columns; z++) {
            var temp_height = 0;
            _container.find('.c'+z).each(function() {
                temp_height += $(this).outerHeight();
            });
            column_heights[z] = temp_height;
        }

        largest = Math.max.apply(Math, column_heights);
        _container.css('height', largest + (this.options.padding_y + this.options.margin_bottom));
    };

    Plugin.prototype.make_layout_change = function (_self) {
        if($(window).width() < _self.options.single_column_breakpoint) {
            _self.calculate(true);
        } else {
            _self.calculate(false);
        }
    };

    $.fn[pluginName] = function (options) {
        return this.each(function () {
            if (!$.data(this, 'plugin_' + pluginName)) {
                $.data(this, 'plugin_' + pluginName,
                new Plugin(this, options));
            }
        });
    }

})(jQuery, window, document);</script>
                         
<script>

      var directionDisplay;
var map;

var placeSearch, autocomplete;
var componentForm = {
  street_number: 'short_name',
  route: 'long_name',
  locality: 'long_name',
  administrative_area_level_1: 'short_name',
  country: 'long_name',
  postal_code: 'short_name'
};

function initialize() {
  // Create the autocomplete object, restricting the search
  // to geographical location types.
  autocomplete = new google.maps.places.Autocomplete(
      /** @type {HTMLInputElement} */(document.getElementById('id_place')),
      { types: ['geocode'] });
  // When the user selects an address from the dropdown,
  // populate the address fields in the form.
  google.maps.event.addListener(autocomplete, 'place_changed', function() {
    fillInAddress();
  });
 
 
}

// [START region_fillform]
function fillInAddress() {
  // Get the place details from the autocomplete object.
  var place = autocomplete.getPlace();

  for (var component in componentForm) {
    document.getElementById(component).value = '';
    document.getElementById(component).disabled = false;
  }

  // Get each component of the address from the place details
  // and fill the corresponding field on the form.
  for (var i = 0; i < place.address_components.length; i++) {
    var addressType = place.address_components[i].types[0];
    if (componentForm[addressType]) {
      var val = place.address_components[i][componentForm[addressType]];
      document.getElementById(addressType).value = val;
    }
  }
}
	
	
	
function geolocate() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var geolocation = new google.maps.LatLng(
          position.coords.latitude, position.coords.longitude);
      var circle = new google.maps.Circle({
        center: geolocation,
        radius: position.coords.accuracy
      });
      autocomplete.setBounds(circle.getBounds());
    });
  }
}

<!-- Maps initialization javascript code ends -->

        </script>
          <script>
$(document).ready(function() {
    $('select').material_select();
  });
       </script> 
           <script>
        $(function(){
            function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#blah').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$("#id_image").change(function(){
    readURL(this);
});
            
        })
           $(function(){
            function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#blah2').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$("#id_photo").change(function(){
    readURL(this);
});
            
        })
        </script>
         <script>$(document).ready(function() {
    $('input#input_text, textarea#id_description').characterCounter();
  });</script>
          <script>$(".button-collapse").sideNav();</script>  
          <script>
            $(document).ready(function() {
                $('#autoComplete').autocomplete({source: '/searchuser', minlength: 2});
				
            });
                         
        </script>	
          
	
</body>
</html>